<camera 
  id="camera"
  device-position="back" 
  flash="off"
  style="width: 100%; height: 300px;">
</camera>

<button 
  bindtap="takePhoto" 
  style="margin-top: 20rpx;">
  拍照并上传
</button>

<view class="preview-box" wx:if="{{previewImageUrl}}">
  <view class="preview-title">拍摄预览：</view>

  <image 
    src="{{previewImageUrl}}" 
    mode="widthFix" 
    style="width: 100%; margin-top: 10rpx;" 
  />
</view>

<!-- 隐藏 canvas 用于 JPG 转换 -->
<canvas 
  canvas-id="myCanvas" 
  style="width: 0px; height: 0px;">
</canvas>
